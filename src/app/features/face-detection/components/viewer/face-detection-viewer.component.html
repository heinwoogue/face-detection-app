<div *ngIf="faceInput()" class="my-2 border">
  <div class="d-flex justify-content-center align-items-center">
    <img [src]="faceInput()!.base64Image" alt="Inputted Image" />
  </div>
</div>

<div *ngIf="currentHistory()" class="my-2 border">
  <p class="ms-3 mt-2 mb-0">
    Gender: {{currentHistory()!.faceDetectionResult.gender}}
    <br/>
    Age: {{currentHistory()!.faceDetectionResult.age}}
    <br/>
    Confidence: {{currentHistory()!.faceDetectionResult.confidence | truncateDecimals: 2}}%
  </p>
  <div class="d-flex justify-content-center align-items-center">
    <img [src]="currentHistory()!.base64Image" alt="Inputted Image" />
  </div>
</div>

@if((loading())) {
  <div class="mt-3 d-flex justify-content-center align-items-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <span class="d-inline-block ms-2">
      Scanning...
    </span>
  </div>
} @else {
  @if (errorMsg()) {
    <div class="alert alert-danger d-flex align-items-center" role="alert">
      <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="assets/sprites.svg#exclamation-triangle-fill"/></svg>
      <div>
        {{errorMsg()}}
      </div>
    </div>
  } @else if (successMsg()) {
    <div *ngIf="successMsg()" class="alert alert-success d-flex align-items-center" role="alert">
      <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="assets/sprites.svg#exclamation-triangle-fill"/></svg>
      <div>
        {{successMsg()}}
      </div>
    </div>
  } @else if (faceInput() && !currentHistory()){
    <button class="btn btn-primary mt-2" (click)="scan()">
      Scan
    </button>
  }
}